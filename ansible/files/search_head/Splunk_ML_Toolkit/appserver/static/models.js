(window.webpackJsonp=window.webpackJsonp||[]).push([["models"],{"./node_modules/@splunk/splunk-web-core/build_tools/web_loaders/splunk-public-path-injection-loader.js?/static/app/Splunk_ML_Toolkit/!./src/main/webapp/pages/models.es":function(e,t,l){var a,s;l.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,l,a="",s=0,o=arguments.length;s<o;s++)(l=(t=arguments[s].toString()).length)>1&&"/"==t.charAt(l-1)&&(t=t.substring(0,l-1)),"/"!=t.charAt(0)?a+="/"+t:a+=t;if("/"!=a){var i=a.split("/"),n=i[1];if("static"==n||"modules"==n){var d=a.substring(n.length+2,a.length);a="/"+n,window.$C.BUILD_NUMBER&&(a+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(a+="."+window.$C.BUILD_PUSH_NUMBER),"app"==i[2]&&(a+=":"+e("APP_BUILD",0)),a+="/"+d}}var r=e("MRSPARKLE_ROOT_PATH","/"),u="/"+e("LOCALE","en-US")+a;return""==r||"/"==r?u:r+u}("/static/app/Splunk_ML_Toolkit/")+"/"}(),a=[l("./src/main/webapp/routers/Models.es"),l("util/router_utils")],void 0===(s=function(e,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}e=l(e),t=l(t),new e.default,t.default.start_backbone_history()}.apply(t,a))||(e.exports=s)},"./src/main/webapp/collections/MLModels.es":function(e,t,l){var a,s;a=[t,l("shim/jquery"),l("collections/services/data/LookupTableFiles"),l("./src/main/webapp/models/MLModel.es")],void 0===(s=function(l,a,s,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,a=i(a),s=i(s),o=i(o);var n=s.default.extend({model:o.default,url:"mltk/list_models",sync:function(e,t,l){var o=a.default.extend(!0,{data:{}},l);switch(e){case"read":o.data.search?o.data.search="(".concat(o.data.search,") AND (").concat("name!=__mlspl__exp*",")"):o.data.search="name!=__mlspl__exp*"}return s.default.prototype.sync.apply(this,[e,t,o])}});l.default=n,e.exports=t.default}.apply(t,a))||(e.exports=s)},"./src/main/webapp/models/Lookup.es":function(e,t,l){var a,s;a=[t,l("models/services/data/LookupTableFile")],void 0===(s=function(l,a){"use strict";var s;Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(a=(s=a)&&s.__esModule?s:{default:s}).default.extend({getFormattedName:function(){return this.entry.get("name")},getDescription:function(){return""},canEditPermissions:function(){return this.canWrite()&&this.entry.acl.get("can_change_perms")},canDelete:function(){return this.entry.links.has("remove")},canWrite:function(){return this.entry.acl.get("can_write")}});l.default=o,e.exports=t.default}.apply(t,a))||(e.exports=s)},"./src/main/webapp/models/MLModel.es":function(e,t,l){var a,s;a=[t,l("models/Base"),l("models/ACLReadOnly"),l("./src/main/webapp/models/Lookup.es"),l("./src/main/webapp/models/MLSPLInfo.es")],void 0===(s=function(l,a,s,o,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,a=n(a),s=n(s),o=n(o),i=n(i);var d=o.default.extend({getModelInfo:function(e){return this.entry.content.get("".concat("mlspl:model_info",".").concat(e))},getType:function(){return this.getModelInfo("algo_name")},getFormattedName:function(){return this.getModelInfo("model_name")},getTargetVariable:function(){var e=this.getModelInfo("target_variable");return null==e&&null!=this.getModelInfo("explanatory_variables")&&(e=this.getModelInfo("variables")),e},getFeatureVariables:function(){var e=this.getModelInfo("feature_variables");if(null==e){var t=this.getModelInfo("explanatory_variables");e=null!=t?t:this.getModelInfo("variables")}return e}},{Entry:a.default.extend({},{Links:a.default,ACL:s.default,Content:i.default.extend({mlSplNamespace:"mlspl:model_info"}),Fields:a.default})});l.default=d,e.exports=t.default}.apply(t,a))||(e.exports=s)},"./src/main/webapp/models/MLSPLInfo.es":function(e,t,l){var a,s;a=[t,l("models/Base")],void 0===(s=function(l,a){"use strict";var s;Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(a=(s=a)&&s.__esModule?s:{default:s}).default.extend({mlSplNamespace:null,get:function(e){return null!=this.mlSplNamespace&&0===e.indexOf("".concat(this.mlSplNamespace,"."))?a.default.prototype.get.apply(this,[this.mlSplNamespace])[e.substring(this.mlSplNamespace.length+1)]:a.default.prototype.get.apply(this,arguments)}});l.default=o,e.exports=t.default}.apply(t,a))||(e.exports=s)},"./src/main/webapp/routers/Models.es":function(e,t,l){var a,s;a=[t,l("./node_modules/@splunk/ui-utils/i18n.js"),l("./src/main/webapp/routers/Base.es"),l("models/Master")],void 0===(s=function(l,a,s,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,s=i(s),o=i(o);var n=s.default.extend({initialize:function(){s.default.prototype.initialize.apply(this,arguments),this.setPageTitle((0,a.gettext)("Models"))},page:function(){s.default.prototype.page.apply(this,arguments),this.modelsView&&this.modelsView.remove(),this.modelsView=new o.default({model:{classicurl:this.model.classicurl},deferreds:{layout:this.deferreds.layout}})}});l.default=n,e.exports=t.default}.apply(t,a))||(e.exports=s)},"collections/services/data/LookupTableFiles":function(e,t,l){var a,s;a=[l("models/services/data/LookupTableFile"),l("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({model:e,url:"data/lookup-table-files",initialize:function(){t.prototype.initialize.apply(this,arguments)}})}.apply(t,a))||(e.exports=s)},"lookups/table/DeleteDialog":function(e,t,l){(function(e){var a,s;a=[t,l("shim/jquery"),e,l("views/shared/Modal"),l("views/shared/FlashMessages")],void 0===(s=function(e,l,a,s,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=i(l),a=i(a),s=i(s),o=i(o);var n=s.default.extend({moduleId:a.default.id,initialize:function(e){s.default.prototype.initialize.apply(this,arguments),this.children.flashMessage=new o.default({model:this.model.lookupsModel})},events:l.default.extend({},s.default.prototype.events,{"click .btn-primary":function(e){var t=this,a=this.model.lookupsModel.destroy({wait:!0});l.default.when(a).then(function(){t.hide()}),e.preventDefault()}}),render:function(){return this.$el.html(s.default.TEMPLATE),this.children.flashMessage.render().prependTo(this.$(s.default.BODY_SELECTOR)),this.$(s.default.HEADER_TITLE_SELECTOR).html("Delete ".concat(this.options.lookupType)),this.$(s.default.BODY_SELECTOR).append("<span>Are you sure you want to delete <em>".concat(this.options.lookupName,"</em> ?</span>")),this.$(s.default.FOOTER_SELECTOR).append(s.default.BUTTON_CANCEL),this.$(s.default.FOOTER_SELECTOR).append(this.compiledTemplate({})),this},template:'\n        <a href="#" class="btn btn-primary">Delete</a>\n    '});e.default=n,a.default.exports=t.default}.apply(t,a))||(e.exports=s)}).call(this,l("./node_modules/webpack/buildin/module.js")(e))},"models/Master":function(e,t,l){(function(e){var a,s;a=[t,l("shim/jquery"),l("./src/main/webapp/contrib_shim/underscore/underscore.es"),e,l("models/Base"),l("models/services/data/ui/Pref"),l("splunkjs/mvc/sharedmodels"),l("util/splunkd_utils"),l("./src/main/webapp/collections/MLModels.es"),l("lookups/table/TableCaption"),l("shared/BaseDashboard"),l("models/table/Master")],void 0===(s=function(e,l,a,s,o,i,n,d,r,u,p,c){"use strict";function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=f(l),a=f(a),s=f(s),o=f(o),i=f(i),n=f(n),d=f(d),r=f(r),u=f(u),p=f(p),c=f(c);var h=p.default.extend({moduleId:s.default.id,id:"mltkModelsView",headerOptions:{title:"Models"},initialize:function(e){var t=this;p.default.prototype.initialize.call(this,e),this.mlModelsCollection=new r.default,this.uiPrefsModel=new i.default,this.applicationModel=n.default.get("app"),this.stateModel=new o.default({sortKey:"name",sortDirection:"asc",count:100,offset:0,fetching:!0}),this.rawSearch=new o.default,this.uiPrefsDeferred||(this.uiPrefsDeferred=l.default.Deferred(),this.uiPrefsModel.bootstrap(this.uiPrefsDeferred,n.default.get("app").get("page"),n.default.get("app").get("app"),this.applicationModel.get("owner"))),this.uiPrefsModel.entry.content.on("change",function(){t.populateUIPrefs()}),this.uiPrefsModel.entry.content.on("change:display.prefs.aclFilter",function(){t.fetchListCollection()})},populateUIPrefs:function(){var e={};this.uiPrefsModel.isNew()&&(e={app:this.applicationModel.get("app"),owner:this.applicationModel.get("owner")}),this.uiPrefsModel.save({},{data:e})},getButtonFilterSearch:function(){var e=this.uiPrefsModel.entry.content.get("display.prefs.aclFilter");if(a.default.isUndefined(e)||"none"===e)return"";switch(e){case"owner":return"(eai:acl.owner=".concat(d.default.quoteSearchFilterValue(this.applicationModel.get("owner")),")");case"app":return"(eai:acl.app=".concat(d.default.quoteSearchFilterValue(this.applicationModel.get("app")),")");default:return""}},fetchListCollection:function(){var e=this,t="system"===this.applicationModel.get("app")?"-":this.applicationModel.get("app"),l=this.stateModel.get("search")||"",a=this.getButtonFilterSearch(),s=this.stateModel.get("sortDirection"),o=this.stateModel.get("sortKey").split(","),i="natural";return a&&(l+=a),"name"!==o[0]&&"eai:acl.owner"!==o[0]&&"eai:acl.app"!==o[0]&&"eai:acl.sharing"!==o[0]||(s=[s,s],i=[i,i]),this.stateModel.set("fetching",!0),this.mlModelsCollection.fetch({data:{app:t,owner:n.default.get("app").get("owner"),sort_dir:s,sort_key:o,sort_mode:i,search:l,count:this.stateModel.get("count"),offset:this.stateModel.get("offset")},success:function(){e.stateModel.set("fetching",!1)}})},render:function(){var e=this;return p.default.prototype.render.call(this),this.fetchListCollection(),this.stateModel.on("change:sortDirection change:sortKey change:search change:offset",a.default.debounce(function(){e.fetchListCollection()},0),this),this.mlModelsCollection.on("destroy",function(){e.fetchListCollection()},this),this.modelsList$El=this.$el.find("#".concat("modelsListContainer")),this.children.caption=new u.default({model:{state:this.stateModel,application:this.applicationModel,uiPrefs:this.uiPrefsModel,user:n.default.get("user"),serverInfo:n.default.get("serverInfo"),rawSearch:this.rawSearch},collection:{lookupModels:this.mlModelsCollection},filterKey:["name"],countLabel:"Models",inputPlaceholder:"Filter by model name",filterTransform:function(e){return null!=e&&e.length>0?"__mlspl_*".concat(e):e}}),this.children.caption.render().appendTo(this.$el.find("#".concat("modelsListContainer"))),this.children.modelsView=new c.default({model:{state:this.stateModel,application:this.applicationModel,uiPrefs:this.uiPrefsModel,userPref:n.default.get("userPref"),user:n.default.get("user"),appLocal:n.default.get("app"),serverInfo:n.default.get("serverInfo")},collection:{lookupModels:this.mlModelsCollection,roles:n.default.get("roles"),apps:n.default.get("appLocals")}}),this.children.modelsView.startListening(),this.children.modelsView.render().appendTo(this.$el.find("#".concat("modelsListContainer"))),this.modelsList$El.show(),this},template:'\n        <div id="'.concat("modelsListContainer",'">\n            <div class="divider"></div>\n        </div>')});e.default=h,s.default.exports=t.default}.apply(t,a))||(e.exports=s)}).call(this,l("./node_modules/webpack/buildin/module.js")(e))},"models/table/Details":function(e,t,l){(function(e){var a,s;a=[t,l("./src/main/webapp/contrib_shim/underscore/underscore.es"),e,l("lookups/table/Details")],void 0===(s=function(e,l,a,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=o(l),a=o(a);var i=(s=o(s)).default.extend({moduleId:a.default.id,render:function(){return l.default.extend(this.innerTemplateParams,{algorithm:this.model.lookupsModel.getType(),targetVariable:this.model.lookupsModel.getTargetVariable(),featureVariables:this.model.lookupsModel.getFeatureVariables()}),this.innerTemplate+='\n          <dl class="list-dotted">\n            <dt class="mltk-algorithm">Algorithm</dt>\n            <dd class="mltk-algorithm"><%= algorithm %></dd>\n            <% if (targetVariable) { %>\n                <dt class="mltk-target-variable">Target Variable(s)</dt>\n                <dd class="mltk-target-variable"><%= targetVariable %></dd>\n            <% } %>\n            <% if (featureVariables) { %>\n                <dt class="mltk-feature-variables">Feature Variables</dt>\n                <dd class="mltk-feature-variables"><%= featureVariables %></dd>\n            <% } %>\n          </dl>\n        ',s.default.prototype.render.apply(this,arguments),this}});e.default=i,a.default.exports=t.default}.apply(t,a))||(e.exports=s)}).call(this,l("./node_modules/webpack/buildin/module.js")(e))},"models/table/Master":function(e,t,l){(function(e){var a,s;a=[t,l("./src/main/webapp/contrib_shim/underscore/underscore.es"),e,l("lookups/table/Master"),l("models/table/Details"),l("models/table/TableRow")],void 0===(s=function(e,l,a,s,o,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=n(l),a=n(a),s=n(s),o=n(o),i=n(i);var d={nameLabel:"Model Name",nameKey:"mlspl:model_info.model_name"},r=s.default.extend({modeulId:a.default.id,className:"mltk-models-table",details:{view:o.default,options:l.default.extend({},d)},tableRow:{view:i.default,options:l.default.extend({hasActions:!0},d)},tbodyClass:"mltk-models-listings",initialize:function(){this.columns=[{label:"i",className:"col-info",html:'<i class="icon-info"></i>'},{label:d.nameLabel,sortKey:"name"},{label:"Algorithm",className:"col-type"},{label:"Actions",className:"col-actions",visible:function(){return this.tableRow.options.hasActions}.bind(this)},{label:"Owner",sortKey:"eai:acl.owner,name",className:"col-owner"},{label:"App",sortKey:"eai:acl.app,name",className:"col-app"},{label:"Sharing",sortKey:"eai:acl.sharing,name",className:"col-sharing"}],s.default.prototype.initialize.apply(this,arguments)},updateTable:function(){var e=this.collection.lookupModels.some(function(e){return e.canDelete()});this.tableRow.options.hasActions=0===this.collection.lookupModels.length||e,this.children.head.render(),s.default.prototype.updateTable.apply(this,arguments)}});e.default=r,a.default.exports=t.default}.apply(t,a))||(e.exports=s)}).call(this,l("./node_modules/webpack/buildin/module.js")(e))},"models/table/TableRow":function(e,t,l){(function(e){var a,s;a=[t,l("shim/jquery"),e,l("util/splunkd_utils"),l("views/Base"),l("lookups/table/DeleteDialog"),l("lookups/table/PermissionsDialog"),l("lookups/table/TableRow")],void 0===(s=function(e,l,a,s,o,i,n,d){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=r(l),a=r(a),s=r(s),o=r(o),i=r(i),n=r(n);var u=(d=r(d)).default.extend({moduleId:a.default.id,className:"expand",initialize:function(){o.default.prototype.initialize.apply(this,arguments),this.$el.addClass(this.options.index%2?"even":"odd")},canEditPermissions:function(){return this.model.lookupsModel.canWrite()&&this.model.lookupsModel.canEditPermissions()},startListening:function(){var e=this;this.listenTo(this.model.lookupsModel,"updateCollection",function(){e.model.state.trigger("change:search")}),this.listenTo(this.model.lookupsModel.entry.acl,"change:sharing",this.updateSharing)},updateSharing:function(){var e=this.model.lookupsModel.entry.acl.get("sharing"),t=this.model.user.canUseApps();"app"!==e||t||(e="system");var l=this.$("td.sharing");(this.canEditPermissions()?l.find("a.edit-permissions"):l).text(s.default.getSharingLabel(e))},events:{"click a.delete":function(e){this.children.deleteDialog=new i.default({model:{lookupsModel:this.model.lookupsModel},lookupType:"Model",lookupName:this.model.lookupsModel.getFormattedName(),onHiddenRemove:!0}),this.children.deleteDialog.render().appendTo((0,l.default)("body")),this.children.deleteDialog.show(),e.preventDefault()},"click a.edit-permissions":function(e){this.children.permissionsDialog=new n.default({document:this.model.lookupsModel,nameModel:this.model.lookupsModel.entry.content,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},this.collection,this.options),this.children.permissionsDialog.render().appendTo((0,l.default)("body")).show(),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({mlModelName:this.model.lookupsModel.getFormattedName(),hasActions:this.options.hasActions,mlModelDisplayType:this.model.lookupsModel.getType(),canEditPermissions:this.canEditPermissions(),canDelete:this.model.lookupsModel.canDelete(),app:this.model.lookupsModel.entry.acl.get("app"),owner:this.model.lookupsModel.entry.acl.get("owner"),canUseApps:this.model.user.canUseApps()})),this.updateSharing(),this},template:'\n        <td class="expands">\n            <a href="#"><i class="icon-triangle-right-small"></i></a>\n        </td>\n        <td class="title">\n            <span title="<%- mlModelName %>"><%- mlModelName %></span>\n        </td>\n        <td class="type">\n            <%- mlModelDisplayType %>\n        </td>\n        <% if (hasActions) { %>\n        <td class="actions actions-edit">\n            <% if (canDelete) { %>\n            <a class="delete">Delete</a>\n            <% } %>\n        </td>\n        <% } %>\n        <td class="owner"><%- owner %></td>\n        <% if (canUseApps) { %>\n            <td class="app"><%- app %></td>\n        <% } %>\n        <td class="sharing">\n            <% if (canEditPermissions) { %>\n                <a class="edit-permissions" href="#"></a>\n            <% } %>\n        </td>\n    '});e.default=u,a.default.exports=t.default}.apply(t,a))||(e.exports=s)}).call(this,l("./node_modules/webpack/buildin/module.js")(e))}},[["./node_modules/@splunk/splunk-web-core/build_tools/web_loaders/splunk-public-path-injection-loader.js?/static/app/Splunk_ML_Toolkit/!./src/main/webapp/pages/models.es","pages_common"]]]);